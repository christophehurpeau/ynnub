
.input
    position relative
    block-margin()

    label
        display block
        width auto

    &.text
        position relative

    label + input, label + textarea, label + select
        background red !important
        color red !important

.input.text input, .input.text textarea, .input.select select, .input .input-div
    width 100%
    height 2rem
    font-size 100%
    font-family inherit
    background-color inherit
    transition all .3s
    outline none
    border 0
    border-radius 0 /* google chrome select */

.input.text > input, .input.text > textarea, .input.select > select, .input > .input-div
    margin-top 1rem
    border-bottom $form-default-border

.input.text input, .input.text textarea, .input.select select, .input .input-div
    &:hover, &:hover:invalid:not(.has-value)
        border-bottom-color $form-hover-border-color if $form-hover-border-color


    &:focus, &:focus:invalid:not(.has-value)
        border-bottom-color $form-focus-border-color if $form-focus-border-color
        box-shadow 0 1px 0 0 $form-focus-shadow-color if $form-focus-shadow-color

    /* label */

    + label
        absolute left
        color $form-label-unfocused-color
        transition color .2s

    &:not(.has-value) + label, &.has-empty-value + label
        top 1rem
        height 2rem
        line-height 2rem
        font-size 100%
        color $form-label-placeholder-color
        cursor text
        transition all .3s

    + label, &:focus + label, &[placeholder] + label
        top .2rem
        height 1rem
        line-height 1rem
        font-size 80%
        cursor default

    &:focus + label
        color $form-focus-label-color
        outline none

    /* invalid */

    &:invalid
        box-shadow none

    &.has-value:invalid
        border-bottom 1px solid $invalid-color
        box-shadow 0 1px 0 0 $invalid-color

    &.has-value:focus:invalid + label
        color $invalid-color


.input .input-div
    margin-top 0
    padding-top 1rem
    height 3rem

.input.text.with-icon
    input
        padding-left 2rem

        + label, &:focus + label, &[placeholder] + label
            padding-left 2rem

    .input-icon
        absolute left top 1rem
        height 2rem
        line-height 2rem
        width 2rem
        font-size 2rem
        color $form-input-icon-unfocused-color
        text-align center

    input:focus ~ .input-icon
        color $form-input-icon-focus-color


.input.no-margin
    margin 0

    input, select
        margin-top 0

    .input-icon, &.select:after
        top 0 !important

.input
    /* SELECT */

    select
        appearance none
        display inline-block
        padding-right 1.5rem

        &:focus
            outline none
            border-top 0
            border-left 0
            border-right 0
        &:-moz-focusring
            /* to avoid the "outline" in firefox */
            transition none
            outline none
            color rgba(0,0,0,0)
            text-shadow 0 0 0 #000

    &.select:after
        content "â–¼"
        absolute top 1rem right bottom
        font-size 60%
        line-height 2rem
        height 2rem
        padding-right .5rem
        pointer-events none

/* RADIO AND CHECKBOX */

/* Remove default radio and checkbox buttons */
/* Everything but IE6-8 */
:root *>
.input
    [type="radio"], [type="checkbox"]
        position absolute
        left -99999px
        visibility hidden
        & + label
            padding-left 1.5rem

.input
    [type="radio"], [type="checkbox"]
        & + label
            position relative
            cursor pointer
            display inline-block
            height 1rem
            line-height 1rem

            user-select none

            &::before, &::after /* supports IE >= 9 with :: */
                content ''
                position absolute
                left 0
                top 0
                margin .2rem
                width .6rem
                height .6rem
                z-index 0
                transition all .2s

    [type="checkbox"] & + label
        &::before, &::after
            transition: border .25s, background-color .25s, width .20s .1s, height .20s .1s, top .20s .1s, left .20s .1s;

    /* Unchecked styles */
    [type="radio"]:not(:checked) + label::before
        border-radius 50%
        border 2px solid #5a5a5a
    [type="radio"]:not(:checked) + label::after
        border-radius 50%
        border 2px solid #5a5a5a
        z-index -1

        transform scale(0)

    [type="checkbox"]:not(:checked) + label::before
        border 2px solid #5a5a5a

    /* Checked styles */
    [type="radio"]:checked
        & + label::before
            border-radius 50%
            border 2px solid transparent

        & + label::after
            border-radius 50%
            border 2px solid $primary-color
            background-color $primary-color

    [type="checkbox"]:checked
        & + label::before
            border-top 2px solid transparent
            border-left 2px solid transparent
            border-right 2px solid #fff
            border-bottom 2px solid #fff
            transform rotateZ(37deg)
            transform-origin 100% 100%
            z-index 1
            top 0
            left 1px
            width .2rem
            height .5rem

        & + label::after
            border 2px solid $primary-color
            background-color $primary-color


    /* DISABLED */

    input:disabled, textarea:disabled, option:disabled, optgroup:disabled, select:disabled
        background-color $form-disabled-background if $form-disabled-background
        color $form-disabled-color if $form-disabled-color
        border-bottom 1px dotted $form-disabled-border-color if $form-disabled-border-color

    [type="radio"]:disabled + label, [type="checkbox"]:disabled + label
        color $form-disabled-color if $form-disabled-color

    [type="radio"]:disabled, [type="checkbox"]:disabled
        &:not(:checked) + label:before
            border-color $form-disabled-color if $form-disabled-color
